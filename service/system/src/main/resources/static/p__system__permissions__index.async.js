(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"80ZS":function(e,t,a){"use strict";a.r(t);a("2qtc");var n=a("kLXV"),r=(a("/zsF"),a("PArb")),i=(a("+L6B"),a("2/Rp")),l=(a("Pwec"),a("CtXQ")),o=a("tmeI"),c=a.n(o),s=a("qIgq"),d=a.n(s),u=a("q1tI"),m=a("Hx5s"),p=a("MuoO"),f=a("Kvkj"),h=(a("14J3"),a("BMrR")),g=(a("giR+"),a("fyUT")),E=(a("nRaC"),a("5RzL")),v=(a("jCWc"),a("kPKH")),y=(a("y8nQ"),a("Vl3Y")),k=(a("5NDa"),a("5rEg")),b=a("p0pE"),w=a.n(b),x=(a("17x9"),a("OFL0")),C=a.n(x);function I(e){var t=e.form,a=e.loading,n=e.visible,r=e.onCancel,i=e.onOk,l=e.data,o=e.permissions,c=u["useState"]([]),s=d()(c,2),m=s[0],p=s[1];u["useEffect"](function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(function(t){var a=t.id,n=t.pid,r=t.name,i=t.children;return{title:r,value:a,key:"permissions-".concat(n,"-").concat(a),children:e(i)}})}p(e(o))},[o]);var b=t.getFieldDecorator;return u["createElement"](f["a"],{confirmLoading:a,visible:n,title:"".concat(C()(l,"name")?"\u7f16\u8f91":"\u65b0\u589e","\u83dc\u5355\u4fe1\u606f"),onCancel:r,onOk:function(){t.validateFields(function(e,t){if(!e){var a=w()({},l,t);"function"===typeof i&&i(a)}})}},u["createElement"](y["a"],{layout:"vertical",hideRequiredMark:!1},u["createElement"](h["a"],{gutter:15},u["createElement"](v["a"],{span:12},u["createElement"](y["a"].Item,{label:"\u83dc\u5355\u540d\u79f0"},b("name",{initialValue:l["name"],rules:[{required:!0,message:"\u83dc\u5355\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}]})(u["createElement"](k["a"],{placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0"})))),0!==l["pid"]&&u["createElement"](v["a"],{span:12},u["createElement"](y["a"].Item,{label:"\u4e0a\u7ea7\u83dc\u5355"},b("pid",{initialValue:l["pid"]})(u["createElement"](E["a"],{allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u4e0a\u7ea7\u83dc\u5355",treeData:m})))),u["createElement"](v["a"],{span:12},u["createElement"](y["a"].Item,{label:"\u83dc\u5355\u8def\u5f84"},b("path",{initialValue:l["path"],rules:[{required:!0,message:"\u83dc\u5355\u8def\u5f84\u4e0d\u80fd\u4e3a\u7a7a"}]})(u["createElement"](k["a"],{placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u8def\u5f84"})))),u["createElement"](v["a"],{span:12},u["createElement"](y["a"].Item,{label:"\u83dc\u5355\u56fe\u6807"},b("icon",{initialValue:l["icon"]})(u["createElement"](k["a"],{placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u56fe\u6807"})))),u["createElement"](v["a"],{span:12},u["createElement"](y["a"].Item,{label:"\u6392\u5e8f"},b("seq",{initialValue:l["seq"]})(u["createElement"](g["a"],{placeholder:"\u8bf7\u8f93\u5165\u6392\u5e8f",min:0,max:999,style:{width:180}}))))),u["createElement"](h["a"],{gutter:15},u["createElement"](v["a"],{span:24},u["createElement"](y["a"].Item,{label:"\u63cf\u8ff0"},b("desc",{initialValue:l["desc"]})(u["createElement"](k["a"].TextArea,{placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0",autosize:{minRows:3,maxRows:6}})))))))}I.defaultProps={loading:!1,visible:!1,data:{},permissions:[]};var S=y["a"].create()(I),P=function(e){var t=e.permissions,a=e.loading,o=e.dispatch,s=c()(!0),p=d()(s,2),h=p[0],g=p[1],E=c()({}),v=d()(E,2),y=v[0],k=v[1],b=c()(!1),w=d()(b,2),x=w[0],C=w[1],I=t.list,P=[{title:"\u83dc\u5355\u540d\u79f0",width:180,dataIndex:"name",key:"name"},{title:"\u83dc\u5355\u8def\u5f84",width:180,dataIndex:"path",key:"path"},{title:"\u83dc\u5355\u56fe\u6807",width:180,dataIndex:"icon",key:"icon",render:function(e){return u["createElement"](l["a"],{type:e})}},{title:"\u6392\u5e8f",width:80,dataIndex:"seq",key:"seq"},{title:"\u63cf\u8ff0",dataIndex:"desc",key:"desc"},{title:"\u6700\u540e\u4fee\u6539\u65f6\u95f4",width:200,dataIndex:"lastModifiedDate_text",key:"lastModifiedDate_text"},{title:"\u72b6\u6001",width:100,dataIndex:"state_text",key:"state_text",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.state;return u["createElement"](f["b"].DataStateTag,{state:a,text:e})}},{title:"\u64cd\u4f5c",width:165,key:"action",render:function(e,t){return u["createElement"](u["Fragment"],null,u["createElement"](i["a"],{type:"link",icon:"edit",onClick:function(){return q(t)}},"\u7f16\u8f91"),u["createElement"](r["a"],{type:"vertical"}),u["createElement"](f["b"].TableDropdown,{menus:[{key:"delete",name:"\u5220\u9664"}],onSelect:function(e){return D(e,t)}}))}}];function _(){g(!0),k({}),C(!0)}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(!1),k(e),C(!0)}function D(e,t){"delete"===e&&F(t)}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=e.name;n["a"].confirm({title:"\u5220\u9664\u63d0\u793a",content:"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u83dc\u5355[".concat(a,"]\u5417"),onOk:function(){o({type:"permissions/deletePermissions",payload:{id:t}})}})}function V(){C(!1)}function R(e){var t=h()?"create":"update";o({type:"permissions/".concat(t,"Permissions"),payload:e}).then(function(){C(!1)})}return u["createElement"](m["a"],{title:!1},u["createElement"](f["b"],{numWidth:100,hasSearch:!1,columns:P,dataSource:I,loading:a,hasPagination:!1},u["createElement"](i["a"],{type:"primary",icon:"plus",loading:a,onClick:_},"\u65b0\u589e")),u["createElement"](S,{loading:a,visible:x(),onCancel:V,onOk:R,data:y(),permissions:I}))};function _(e){var t=e.permissions,a=e.loading.global;return{permissions:t,loading:a}}t["default"]=Object(p["connect"])(_)(P)},DGn2:function(e,t,a){e.exports={layout:"layout___20Fsh",header:"header___2R5L7"}},Kvkj:function(e,t,a){"use strict";a("g9YV");var n=a("wCAj"),r=(a("5NDa"),a("5rEg")),i=a("gWZ8"),l=a.n(i),o=a("p0pE"),c=a.n(o),s=a("USTM"),d=a.n(s),u=a("qIgq"),m=a.n(u),p=a("q1tI"),f=(a("17x9"),a("+BJd"),a("mr32")),h=a("Jn7e");function g(e){var t=e.state,a=e.text,n=h["a"]["green"];return 0===t&&(n=h["a"]["red"]),2===t&&(n=h["a"]["gold"]),3===t&&(n=h["a"]["magenta"]),p["createElement"](f["a"],{color:n},a)}g.defaultProps={};a("qVdP");var E=a("jsC+"),v=(a("+L6B"),a("2/Rp")),y=(a("lUTK"),a("BvKs"));function k(e){var t=e.menus,a=e.text,n=e.onSelect,r=t.filter(function(e){var t=e.hideMenu;return!t}),i=p["createElement"](y["a"],{onClick:function(e){var t=e.key;return"function"===typeof n&&n(t)}},r.map(function(e){var t=e.key,a=e.name;return p["createElement"](y["a"].Item,{key:t},a)}));return p["createElement"](E["a"],{overlay:i},p["createElement"](v["a"],{type:"link"},a))}k.defaultProps={menus:[],text:"\u66f4\u591a\u64cd\u4f5c"};var b=a("DGn2"),w=a.n(b);function x(e){var t=e.rowKey,a=e.numWidth,i=e.hasSearch,o=e.defaultSearch,s=e.searchPlaceholder,u=e.columns,f=e.dataSource,h=e.loading,g=e.hasPagination,E=e.pagination,v=e.onParamsChange,y=e.children,k=d()({pagination:{}}),b=m()(k,2),x=b[0],C=b[1],I=c()({showQuickJumper:!0,showSizeChanger:!0},E),S={title:"#\u5e8f\u53f7",width:a,dataIndex:"_num",render:function(e,t,a){var n=E.current,r=E.pageSize;return Number(n)&&Number(r)?(n-1)*r+a+1:a+1}},P=[S].concat(l()(u)),_=function(e){"function"===typeof v&&v.apply(null,D(c()({},x,{search:e}))),C({search:e})},q=function(e){"function"===typeof v&&v.apply(null,D(c()({},x,{pagination:e}))),C({pagination:e})},D=function(e){var t=e.search,a=e.pagination;return[t,a]};return p["createElement"]("div",{className:w.a["layout"]},p["createElement"]("div",{className:w.a["header"]},y&&p["createElement"]("div",null,y),i&&p["createElement"](r["a"].Search,{defaultValue:o,placeholder:s,onSearch:_})),p["createElement"](n["a"],{bordered:!0,columns:P,dataSource:f,loading:h,pagination:g?I:g,rowKey:t,onChange:q}))}x.defaultProps={rowKey:"id",numWidth:80,hasSearch:!0,searchPlaceholder:"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd",columns:[],dataSource:[],hasPagination:!0,pagination:{}},x.DataStateTag=g,x.TableDropdown=k;a("bbsP");var C=a("/wGt"),I=a("gzeF"),S=a.n(I);function P(e){var t=e.confirmLoading,a=e.visible,n=e.maskClosable,r=e.title,i=e.onCancel,l=e.onOk,o=e.children;return p["createElement"](C["a"],{className:S.a["drawer"],closable:!0,destroyOnClose:!0,maskClosable:n,title:r,visible:a,width:720,placement:"right",onClose:i},p["createElement"](p["Fragment"],null,o),p["createElement"]("div",{className:S.a["footer"]},p["createElement"](v["a"],{onClick:i},"\u53d6\u6d88"),p["createElement"](v["a"],{type:"primary",loading:t,onClick:l},"\u786e\u5b9a")))}P.defaultProps={confirmLoading:!1,visible:!1,maskClosable:!1},a.d(t,"b",function(){return x}),a.d(t,"a",function(){return P})},gzeF:function(e,t,a){e.exports={drawer:"drawer___3CF6q",footer:"footer___2i9Fh"}}}]);