(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"80ZS":function(e,a,t){"use strict";t.r(a);t("+L6B");var n=t("2/Rp"),i=(t("2qtc"),t("kLXV")),r=(t("/zsF"),t("PArb")),l=(t("+BJd"),t("mr32")),o=t("tmeI"),c=t.n(o),s=t("qIgq"),d=t.n(s),u=t("q1tI"),m=t("Hx5s"),p=t("MuoO"),h=t("Kvkj"),f=t("Jn7e"),g=(t("14J3"),t("BMrR")),E=(t("giR+"),t("fyUT")),v=(t("nRaC"),t("5RzL")),y=(t("jCWc"),t("kPKH")),k=(t("y8nQ"),t("Vl3Y")),b=(t("5NDa"),t("5rEg")),w=t("p0pE"),C=t.n(w),x=(t("17x9"),t("OFL0")),I=t.n(x);function _(e){var a=e.form,t=e.loading,n=e.visible,i=e.onCancel,r=e.onOk,l=e.data,o=e.permissions,c=u["useState"]([]),s=d()(c,2),m=s[0],p=s[1];u["useEffect"](function(){function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.map(function(a){var t=a.id,n=a.pid,i=a.name,r=a.children;return{title:i,value:t,key:"permissions-".concat(n,"-").concat(t),children:e(r)}})}p(e(o))},[o]);var f=a.getFieldDecorator;return u["createElement"](h["a"],{confirmLoading:t,visible:n,title:"".concat(I()(l,"name")?"\u7f16\u8f91":"\u65b0\u589e","\u83dc\u5355\u4fe1\u606f"),onCancel:i,onOk:function(){a.validateFields(function(e,a){if(!e){var t=C()({},l,a);"function"===typeof r&&r(t)}})}},u["createElement"](k["a"],{layout:"vertical",hideRequiredMark:!1},u["createElement"](g["a"],{gutter:15},u["createElement"](y["a"],{span:12},u["createElement"](k["a"].Item,{label:"\u83dc\u5355\u540d\u79f0"},f("name",{initialValue:l["name"],rules:[{required:!0,message:"\u83dc\u5355\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}]})(u["createElement"](b["a"],{placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0"})))),0!==l["pid"]&&u["createElement"](y["a"],{span:12},u["createElement"](k["a"].Item,{label:"\u4e0a\u7ea7\u83dc\u5355"},f("pid",{initialValue:l["pid"],rules:[{required:!0,message:"\u4e0a\u7ea7\u83dc\u5355\u4e0d\u80fd\u4e3a\u7a7a"}]})(u["createElement"](v["a"],{allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u4e0a\u7ea7\u83dc\u5355",treeData:m})))),u["createElement"](y["a"],{span:12},u["createElement"](k["a"].Item,{label:"\u83dc\u5355\u8def\u5f84"},f("path",{initialValue:l["path"],rules:[{required:!0,message:"\u83dc\u5355\u8def\u5f84\u4e0d\u80fd\u4e3a\u7a7a"}]})(u["createElement"](b["a"],{placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u8def\u5f84"})))),u["createElement"](y["a"],{span:12},u["createElement"](k["a"].Item,{label:"\u83dc\u5355\u56fe\u6807"},f("icon",{initialValue:l["icon"]})(u["createElement"](b["a"],{placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u56fe\u6807"})))),u["createElement"](y["a"],{span:12},u["createElement"](k["a"].Item,{label:"\u6392\u5e8f"},f("seq",{initialValue:l["seq"]})(u["createElement"](E["a"],{placeholder:"\u8bf7\u8f93\u5165\u6392\u5e8f",min:0,max:999,style:{width:180}}))))),u["createElement"](g["a"],{gutter:15},u["createElement"](y["a"],{span:24},u["createElement"](k["a"].Item,{label:"\u63cf\u8ff0"},f("desc",{initialValue:l["desc"]})(u["createElement"](b["a"].TextArea,{placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0",autosize:{minRows:3,maxRows:6}})))))))}_.defaultProps={loading:!1,visible:!1,data:{},permissions:[]};var q=k["a"].create()(_),S=function(e){var a=e.permissions,t=e.loading,o=e.dispatch,s=c()(!0),p=d()(s,2),g=p[0],E=p[1],v=c()({}),y=d()(v,2),k=y[0],b=y[1],w=c()(!1),C=d()(w,2),x=C[0],I=C[1],_=a.list,S=[{title:"\u83dc\u5355\u540d\u79f0",width:180,dataIndex:"name",key:"name"},{title:"\u83dc\u5355\u8def\u5f84",width:180,dataIndex:"path",key:"path"},{title:"\u83dc\u5355\u56fe\u6807",width:180,dataIndex:"icon",key:"icon"},{title:"\u6392\u5e8f",width:80,dataIndex:"seq",key:"seq"},{title:"\u63cf\u8ff0",dataIndex:"desc",key:"desc"},{title:"\u6700\u540e\u4fee\u6539\u65f6\u95f4",width:200,dataIndex:"lastModifiedDate_text",key:"lastModifiedDate_text"},{title:"\u72b6\u6001",width:100,dataIndex:"state_text",key:"state_text",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,t=a.state;return u["createElement"](l["a"],{color:1===t?f["a"]["green"]:f["a"]["red"]},e)}},{title:"\u64cd\u4f5c",width:250,key:"action",render:function(e,a){return u["createElement"](u["Fragment"],null,u["createElement"]("span",{onClick:function(){return F(a)}},"\u7f16\u8f91"),u["createElement"](r["a"],{type:"vertical"}),u["createElement"]("span",{onClick:function(){return R(a)}},"\u5220\u9664"))}}];function P(){E(!0),b({}),I(!0)}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E(!1),b(e),I(!0)}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,t=e.name;i["a"].confirm({title:"\u5220\u9664\u63d0\u793a",content:"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u83dc\u5355[".concat(t,"]\u5417"),onOk:function(){o({type:"permissions/deletePermissions",payload:{id:a}})}})}function V(){I(!1)}function L(e){var a=g()?"create":"update";o({type:"permissions/".concat(a,"Permissions"),payload:e}).then(function(){I(!1)})}return u["createElement"](m["a"],{title:!1},u["createElement"](h["b"],{numWidth:100,hasSearch:!1,columns:S,dataSource:_,loading:t,hasPagination:!1},u["createElement"](n["a"],{type:"primary",icon:"plus",loading:t,onClick:P},"\u65b0\u589e")),u["createElement"](q,{loading:t,visible:x(),onCancel:V,onOk:L,data:k(),permissions:_}))};function P(e){var a=e.permissions,t=e.loading.global;return{permissions:a,loading:t}}a["default"]=Object(p["connect"])(P)(S)},DGn2:function(e,a,t){e.exports={layout:"layout___20Fsh",header:"header___2R5L7"}},Kvkj:function(e,a,t){"use strict";t("g9YV");var n=t("wCAj"),i=(t("5NDa"),t("5rEg")),r=t("gWZ8"),l=t.n(r),o=t("p0pE"),c=t.n(o),s=t("USTM"),d=t.n(s),u=t("qIgq"),m=t.n(u),p=t("q1tI"),h=(t("17x9"),t("DGn2")),f=t.n(h);function g(e){var a=e.rowKey,t=e.numWidth,r=e.hasSearch,o=e.defaultSearch,s=e.searchPlaceholder,u=e.columns,h=e.dataSource,g=e.loading,E=e.hasPagination,v=e.pagination,y=e.onParamsChange,k=e.children,b=d()({pagination:{}}),w=m()(b,2),C=w[0],x=w[1],I=c()({showQuickJumper:!0,showSizeChanger:!0},v),_={title:"#\u5e8f\u53f7",width:t,dataIndex:"_num",render:function(e,a,t){var n=v.current,i=v.pageSize;return Number(n)&&Number(i)?(n-1)*i+t+1:t+1}},q=[_].concat(l()(u)),S=function(e){"function"===typeof y&&y.apply(null,F(c()({},C,{search:e}))),x({search:e})},P=function(e){"function"===typeof y&&y.apply(null,F(c()({},C,{pagination:e}))),x({pagination:e})},F=function(e){var a=e.search,t=e.pagination;return[a,t]};return p["createElement"]("div",{className:f.a["layout"]},p["createElement"]("div",{className:f.a["header"]},k&&p["createElement"]("div",null,k),r&&p["createElement"](i["a"].Search,{defaultValue:o,placeholder:s,onSearch:S})),p["createElement"](n["a"],{bordered:!0,columns:q,dataSource:h,loading:g,pagination:E?I:E,rowKey:a,onChange:P}))}g.defaultProps={rowKey:"id",numWidth:80,hasSearch:!0,searchPlaceholder:"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd",columns:[],dataSource:[],hasPagination:!0,pagination:{}};t("bbsP");var E=t("/wGt"),v=(t("+L6B"),t("2/Rp")),y=t("gzeF"),k=t.n(y);function b(e){var a=e.confirmLoading,t=e.visible,n=e.maskClosable,i=e.title,r=e.onCancel,l=e.onOk,o=e.children;return p["createElement"](E["a"],{className:k.a["drawer"],closable:!0,destroyOnClose:!0,maskClosable:n,title:i,visible:t,width:720,placement:"right",onClose:r},p["createElement"](p["Fragment"],null,o),p["createElement"]("div",{className:k.a["footer"]},p["createElement"](v["a"],{onClick:r},"\u53d6\u6d88"),p["createElement"](v["a"],{type:"primary",loading:a,onClick:l},"\u786e\u5b9a")))}b.defaultProps={confirmLoading:!1,visible:!1,maskClosable:!1},t.d(a,"b",function(){return g}),t.d(a,"a",function(){return b})},gzeF:function(e,a,t){e.exports={drawer:"drawer___3CF6q",footer:"footer___2i9Fh"}}}]);